<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head') %>
  <body>
    <%- include('../partials/header') %>
    <div id="show-container">


      
      <section id="show">
        <div>
          <h2>Day of Week: <%=recipe.dayOfWeek%></h2>
        </div>
        <div>
          <h2>Entree Name</h2>
          <p><%=recipe.entreeName%></p>
        </div>
        <div>
          <h2>Cook Time <small>(min)</small></h2>
  
          <p><%=recipe.cookTime%></p>
        </div>
        <div>
          <h2>Ingredients</h2>
          <%ingredient.forEach(p => { %>
            <ul>
  
              <%p.ingredientName.forEach(i => { %>
                <li><%=i%></li>
            <%  })%>
  
            </ul>
       <%   })%>
        </ul>
  
        </div>
        <div>
          <h2>Directions</h2>
  
          <p><%=recipe.directions%></p>
        </div>
  
        <div>
          <h3>Forgot an ingredient? Let's check our list:</h3>
          <ul>
            <% recipe.ingredients.forEach(p => { %>
            <li><%=p.ingredientName%></li>
            <% })%>
          </ul>
          <form action="/recipes/<%= recipe._id %>/ingredients" method="POST">
            <select name="ingredientId">
              <% newIngredient.map(p => { %>
                <%p.ingredientName.forEach(i => { %>
                <option value="<%=p._id%>"> <%=i%></option>
               <% })%>
            <%  } ) %>
            </select>
            <button type="submit">Add to Cast</button>
          </form>
        </div>
      </section>
      <img src="/imgs/magnify.gif">





    </div>

        <p><%=recipe.directions%></p>
      </div>      
    </section><br>
    <section>
      <h2>Do you need to update your recipe?</h2>
    <form action="/recipes/<%=recipe._id%>?_method=PUT" method="POST">        
      <label
        >Day of the week:
        <select name="dayOfWeek">
          <option value="Monday">Monday</option>
          <option value="Tuesday">Tuesday</option>
          <option value="Wednesday">Wednesday</option>
          <option value="Thursday">Thursday</option>
          <option value="Friday">Friday</option>
        </select> </label
      ><br />
      <label
        >Ingredient:
        <%ingredient.forEach(p => { %>
            <%p.ingredientName.forEach(i => { %>
              <input class="ingredient-value" type="text" name="ingredientName" value="<%=i %>"/>
            <%  })%>
        <%   })%>
      </label>
      <br />
      <label>Entree Name: <input type="text" name="entreeName" value="<%=recipe.entreeName %>" /> </label><br />
      <label>Cook Time: <input type="text" name="cookTime" value="<%=recipe.cookTime %>"/> </label><br />
      <label>
        Directions:
        <textarea name="directions" cols="50" rows="4" value="<%=recipe.directions%>"></textarea>
      </label>
      <button type="submit">Update Recipe</button>
    </form>
  </section>

    <main class="footer"><%- include('../partials/footer') %></main>
  </body>
</html>
